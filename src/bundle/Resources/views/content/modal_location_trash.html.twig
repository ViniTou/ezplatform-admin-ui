{% form_theme form '@ezdesign/form_fields.html.twig' %}

<div class="modal fade ez-modal ez-modal--send-to-trash" id="trash-location-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <svg class="ez-icon ez-icon--medium" aria-hidden="true">
                        <use xlink:href="{{ asset('bundles/ezplatformadminui/img/ez-icons.svg') }}#discard"></use>
                    </svg>
                </button>
            </div>
            <div class="modal-header">
                {{ 'trash.modal.message'|trans|desc('Are you sure you want to send this content item to trash?') }}
            </div>
            {{ form_start(form, {'action': path('ezplatform.location.trash')}) }}
            {% for option in form.trash_options %}
                <div class="option-modal-body {{ not loop.first ? 'trash-option-disabled' : 'trash-option-first' }}">
                    <p class="ez-modal-body__main">
                        {{ form_label(option) }}
                    </p>
                    {% if option.vars.help_multiline ?? false %}
                        {% for help in option.vars.help_multiline %}
                            <p>
                                {{ help }}
                            </p>
                        {% endfor %}
                    {% endif %}
                    {% set first_set_of_options = loop.first %}
                    {% for input in option %}
                        {{ form_widget(input, {'attr': {'disabled': not first_set_of_options }}) }}
                    {% endfor %}
                {# Do not render label if no options input #}
                    {% do option.setRendered() %}
                </div>
            {% endfor %}
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn--no" data-dismiss="modal">
                    {{ 'trash.form.cancel'|trans|desc('Cancel') }}
                </button>
                {{ form_widget(form.trash,
                    {'attr': {'class': 'btn-danger font-weight-bold disabled', 'disabled': true}}) }}
                {{ form_end(form) }}
            </div>
        </div>
    </div>
</div>{% block javascripts %}
    {{ encore_entry_script_tags('ezplatform-admin-ui-modal-location-trash-js', null, 'ezplatform') }}
{% endblock %}
